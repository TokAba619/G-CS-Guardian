<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Fix the Public Bucket</title>
  <link rel="stylesheet" href="web.css">
  <style>
    body { background:#0b0b0b; color:#eee; font-family:Inter, sans-serif; }
    .wrap { max-width:1100px; margin:40px auto; padding:0 16px; }
    h1 { font-size:2rem; margin-bottom:10px; }
    .sub { opacity:.8; margin-bottom:20px; }
    .card { background:#111; border-radius:12px; padding:16px; margin:14px 0; box-shadow:0 8px 24px rgba(0,0,0,.35); }
    .cmd { background:#0a0a0a; border:1px solid #222; border-radius:10px; padding:12px; margin-top:8px; font-family:monospace; white-space:pre-wrap; overflow-x:auto; }
    .risk { font-weight:700; margin-bottom:6px; }
    .risk.low{ color:#67e8f9; }
    .risk.medium{ color:#facc15; }
    .risk.high{ color:#fb7185; }
    .risk.critical{ color:#ef4444; }
    button.copy-btn { margin-top:6px; background:#E91E63; color:#000; border:0; border-radius:8px; padding:8px 10px; font-weight:600; cursor:pointer; }
  </style>
  <style>
  /* --- tidy cards --- */
  .plan-card{border:1px solid #1f2937;background:linear-gradient(180deg,#121212,#0e0e0e);
    border-radius:16px;padding:16px 18px;margin:14px 0;box-shadow:0 8px 24px rgba(0,0,0,.35)}
  .plan-head{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:8px}
  .plan-title{font-weight:800;font-size:1rem;letter-spacing:.2px;color:#e5e7eb;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
  .risk-badge{padding:4px 10px;border-radius:999px;font-weight:800;font-size:.8rem;text-transform:capitalize}
  .risk-badge.low{background:#a7f3d0;color:#064e3b}
  .risk-badge.medium{background:#fde68a;color:#5b3a00}
  .risk-badge.high{background:#fecaca;color:#7f1d1d}
  .risk-badge.critical{background:#ef4444;color:#fff}
  .section{margin-top:12px}
  .section h4{font-size:.95rem;margin:0 0 6px;color:#cbd5e1}
  .list{margin:0;padding-left:18px}
  .cmd{background:#0a0a0a;border:1px solid #1f2937;border-radius:10px;padding:10px;margin:8px 0 0;
    font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;white-space:pre-wrap}
  .copy-row{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:6px}
  .copy-btn{background:#f472b6;color:#111;border:0;border-radius:8px;padding:8px 10px;font-weight:700;cursor:pointer}
  .copy-btn:hover{filter:brightness(1.06)}
</style>

</head>
<body>
  <div class="wrap">
    <h1>Fix the Public Bucket</h1>
    <div class="sub">AI will generate secure recommendations for buckets detected as public.</div>
    <div id="publicSummary">Loadingâ€¦</div>
    <div id="bucketList"></div>
  </div>

  <noscript style="color:#fca5a5;display:block;text-align:center;margin:12px 0;">
    This page needs JavaScript enabled.
  </noscript>

  <!-- Optional: override API base (else ai.js uses its own default Cloud Run URL) -->
  <script>
    window.API_BASE = window.API_BASE || "https://gcp-bucket-detector-backend-661175673686.us-central1.run.app";
  </script>

  <!-- If you have web.js in the root and want getToken(), uncomment the next line -->
  <!-- <script src="web.js"></script> -->

  <!-- Keep this as a RELATIVE path (no leading slash) since you're on GitHub Pages -->
  <script src="ai.js"></script>
</body>
</html>
